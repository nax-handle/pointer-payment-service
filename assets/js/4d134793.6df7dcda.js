"use strict";(self.webpackChunkpointer_wallet=self.webpackChunkpointer_wallet||[]).push([[460],{4034:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"api/create-order","title":"Create Order","description":"---","source":"@site/docs/api/create-order.md","sourceDirName":"api","slug":"/api/create-order","permalink":"/pointer-payment-service/docs/api/create-order","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/api/create-order.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Introduction","permalink":"/pointer-payment-service/docs/api/introduction"},"next":{"title":"Cancel Order","permalink":"/pointer-payment-service/docs/api/cancel-order"}}');var s=n(4848),i=n(8453);const o={sidebar_position:2},d="Create Order",a={},c=[{value:"Webhook Requirements",id:"webhook-requirements",level:3},{value:"Webhook Payload",id:"webhook-payload",level:3}];function l(e){const r={code:"code",h1:"h1",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"create-order",children:"Create Order"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-typescript",metastring:'title="Base URL"',children:"https://api.pointer.io.vn\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"webhook-requirements",children:"Webhook Requirements"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["The webhook endpoint must accept ",(0,s.jsx)(r.code,{children:"POST"})," requests."]}),"\n",(0,s.jsx)(r.li,{children:"Ensure the endpoint is secured (e.g., via authentication or IP whitelisting)."}),"\n",(0,s.jsxs)(r.li,{children:["The webhook should process and store the received payload (",(0,s.jsx)(r.code,{children:"orderID"})," and ",(0,s.jsx)(r.code,{children:"status"}),")."]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"webhook-payload",children:"Webhook Payload"}),"\n",(0,s.jsxs)(r.p,{children:["Pointer Wallet will send the following payload for ",(0,s.jsx)(r.code,{children:"Payment"})," events:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-json",children:'{\r\n  "orderID": string,\r\n  "status": 200\r\n}\n'})}),"\n",(0,s.jsx)(r.h1,{id:"api",children:"API"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-typescript",metastring:'title="Create Order"',children:'curl -X POST /api/payment/create-order\r\n-H \'Content-Type: application/json\' \\\r\n-H \'Authorization: Bearer \' + secret_key \\\r\n-d {\r\n  amount: number;\r\n  currency: "VND" | "USD" | "ETH";\r\n  message: string;\r\n  userID: string;\r\n  orderID: string;\r\n  returnUrl: string;\r\n  orders?: [{\r\n    name: string;\r\n    image: string;\r\n    description: string;\r\n    quantity: number;\r\n    price: number;\r\n  }];\r\n}\n'})}),"\n",(0,s.jsx)(r.h1,{id:"response",children:"Response"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-typescript",metastring:'title="Response"',children:'{\r\n    "url":"https://pointer.io.vn/payment-gateway?token={token}"\r\n}\n'})}),"\n",(0,s.jsx)(r.h1,{id:"http-status",children:"HTTP Status"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Status"}),(0,s.jsx)(r.th,{children:"OK"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"200"})}),(0,s.jsx)(r.td,{children:"OK"}),(0,s.jsx)(r.td,{children:"Order have been created"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"401"})}),(0,s.jsx)(r.td,{children:"Unauthorized"}),(0,s.jsx)(r.td,{children:"Secret key is invalid"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"500"})}),(0,s.jsx)(r.td,{children:"Server Errors"}),(0,s.jsx)(r.td,{children:"Something went wrong!"})]})]})]})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>d});var t=n(6540);const s={},i=t.createContext(s);function o(e){const r=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(i.Provider,{value:r},e.children)}}}]);